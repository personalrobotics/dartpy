# Arguments that will be appended in-order before command line arguments.
arguments:
  - "-extra-arg"
  - "-I/usr/lib/clang/3.6/include"

template:
  file:
    header:
      content: '#include </homes/mkoval/dart-ws/src/dartpy/src/pointers.h>'
    postinclude:
      content: '/* postinclude */'
    footer:
      content: '/* footer */'
  main:
    header:
      content: '/* main header */'
    postinclude:
      content: '/* main postinclude */'
    precontent:
      content: |
        boost::python::import("boost_numpy_eigen");
        boost::python::implicitly_convertible<
          std::shared_ptr<dart::common::LocalResourceRetriever>,
          std::shared_ptr<dart::common::ResourceRetriever>>(); 
        boost::python::implicitly_convertible<
          std::shared_ptr<dart::utils::PackageResourceRetriever>,
          std::shared_ptr<dart::common::ResourceRetriever>>(); 
    foter:
      content: '/* main footer */'

# The C++ namespaces that will be extracted by Chimera
namespaces:
  - dart

# String replacements for various constants used in default arguments.
constants:
  '&cout': 'std::cout'
  'Frame': '::dart::Shape::SimpleFrame'

# Selected types that need special handling.
types:
  'const double &':
    return_value_policy: boost::python::copy_const_reference
  'const std::string&':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::Vector3i &':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::Vector2d&':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::Vector3d&':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::Vector4d&':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::Vector6d &':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::VectorXd &':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::Isometry3d &':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::Matrix6d &':
    return_value_policy: boost::python::copy_const_reference
  'const Eigen::MatrixXd &':
    return_value_policy: boost::python::copy_const_reference
  'const dart::math::Jacobian &':
    return_value_policy: boost::python::copy_const_reference
  'const dart::dynamics::Inertia &': 
    return_value_policy: boost::python::copy_const_reference
  'const dart::dynamics::Entity::Properties &':
    return_value_policy: boost::python::copy_const_reference
  'const dart::dynamics::Skeleton::Properties &':
    return_value_policy: boost::python::copy_const_reference
  'const dart::dynamics::ArrowShape::Properties &':
    return_value_policy: boost::python::copy_const_reference
  'const dart::dynamics::Joint::Properties &':
    return_value_policy: boost::python::copy_const_reference
  'const std::shared_ptr<dart::dynamics::InverseKinematics> &':
    return_value_policy: boost::python::copy_const_reference
  'const std::shared_ptr<dart::optimizer::Function> &':
    return_value_policy: boost::python::copy_const_reference
  'const std::shared_ptr<dart::optimizer::Problem> &':
    return_value_policy: boost::python::copy_const_reference
  'const std::shared_ptr<dart::optimizer::Solver> &':
    return_value_policy: boost::python::copy_const_reference
  'const std::shared_ptr<dart::dynamics::WholeBodyIK> &':
    return_value_policy: boost::python::copy_const_reference
  # smart pointers
  'dart::dynamics::BodyNode *':
    return_value_policy: boost::python::return_by_smart_ptr<dart::dynamics::BodyNodePtr>
  'dart::dynamics::SoftBodyNode *':
    return_value_policy: boost::python::return_by_smart_ptr<dart::dynamics::SoftBodyNodePtr>
  'dart::dynamics::DegreeOfFreedom *':
    return_value_policy: boost::python::return_by_smart_ptr<dart::dynamics::DegreeOfFreedomPtr>
  'dart::dynamics::Joint *':
    return_value_policy: boost::python::return_by_smart_ptr<dart::dynamics::JointPtr>
  'dart::dynamics::EndEffector *':
    return_value_policy: boost::python::return_by_smart_ptr<dart::dynamics::EndEffectorPtr>
  # allow unsafe access
  # TODO: Are there smart pointers for these?
  'dart::dynamics::Marker *':
    return_value_policy: boost::python::reference_existing_object
  'dart::collision::CollisionNode *':
    return_value_policy: boost::python::reference_existing_object
  'dart::collision::FCLCollisionNode *':
    return_value_policy: boost::python::reference_existing_object
  'dart::dynamics::InverseKinematics *':
    return_value_policy: boost::python::reference_existing_object
  'dart::dynamics::JacobianNode *':
    return_value_policy: boost::python::reference_existing_object
  'dart::collision::Contact &':
    return_value_policy: boost::python::reference_existing_object
  'fcl::CollisionObject *':
    return_value_policy: boost::python::reference_existing_object
  'dart::planning::PathSegment *':
    return_value_policy: boost::python::reference_existing_object

# Selected function and class declarations that need custom parameters.
declarations:
  'dart::common::AddonManager':
    noncopyable: true
  'dart::common::ResourceRetriever':
    held_type: std::shared_ptr<dart::common::ResourceRetriever>
  'dart::common::LocalResourceRetriever':
    held_type: std::shared_ptr<dart::common::LocalResourceRetriever>
  'dart::common::PackageResourceRetriever':
    held_type: std::shared_ptr<dart::utils::PackageResourceRetriever>
  'dart::dynamics::ZeroDofJoint':
    name: ZeroDofJoint
    held_type: 'dart::dynamics::ZeroDofJoint *'
  'dart::dynamics::MultiDofJoint<2>':
    name: TwoDofJoint
    held_type: 'dart::dynamics::MultiDofJoint<2> *'
  'dart::dynamics::MultiDofJoint<3>':
    name: ThreeDofJoint
    held_type: 'dart::dynamics::MultiDofJoint<3> *'
  'dart::dynamics::MultiDofJoint<6>':
    name: SixDofJoint
    held_type: 'dart::dynamics::MultiDofJoint<6> *'
  'dart::dynamics::InverseKinematics':
    held_type: 'std::shared_ptr<dart::dynamics::InverseKinematics>'
  'dart::dynamics::Skeleton':
    held_type: 'dart::dynamics::SkeletonPtr'
  'dart::dynamics::Chain':
    held_type: 'dart::dynamics::ChainPtr'
  'dart::dynamics::Branch':
    held_type: 'dart::dynamics::BranchPtr'
  'dart::dynamics::Group':
    held_type: 'dart::dynamics::GroupPtr'
  'dart::dynamics::Linkage':
    held_type: 'dart::dynamics::LinkagePtr'
  'dart::dynamics::JacobianNode':
    held_type: 'dart::dynamics::GroupPtr'
  'dart::dynamics::JacobianNode':
    held_type: 'dart::dynamics::JacobianNode *'
  'dart::dynamics::DegreeOfFreedom':
    held_type: 'dart::dynamics::DegreeOfFreedom *'
  'dart::dynamics::Frame':
    held_type: 'dart::dynamics::Frame *'
  'dart::dynamics::Joint':
    held_type: 'dart::dynamics::Joint *'
  'dart::dynamics::Joint':
    held_type: 'dart::dynamics::RevoluteJoint *'
  'dart::dynamics::JacobianNode':
    held_type: 'dart::dynamics::JacobianNode *'
  'dart::dynamics::BodyNode':
    held_type: 'dart::dynamics::BodyNode *'
  'dart::dynamics::SoftBodyNode':
    held_type: 'dart::dynamics::SoftBodyNode *'
  'dart::dynamics::MetaSkeleton':
    held_type: 'dart::dynamics::MetaSkeletonPtr'
  'dart::dynamics::Shape':
    held_type: 'std::shared_ptr<dart::dynamics::Shape>'
  'dart::dynamics::BoxShape':
    held_type: 'std::shared_ptr<dart::dynamics::BoxShape>'
  'dart::dynamics::CylinderShape':
    held_type: 'std::shared_ptr<dart::dynamics::CylinderShape>'
  'dart::dynamics::EllipsoidShape':
    held_type: 'std::shared_ptr<dart::dynamics::EllipsoidShape>'
  'dart::dynamics::LineSegmentShape':
    held_type: 'std::shared_ptr<dart::dynamics::LineSegmentShape>'
  'dart::dynamics::MeshShape':
    held_type: 'std::shared_ptr<dart::dynamics::MeshShape>'
  'dart::dynamics::ArrowShape':
    held_type: 'std::shared_ptr<dart::dynamics::ArrowShape>'
  'dart::dynamics::PlaneShape':
    held_type: 'std::shared_ptr<dart::dynamics::PlaneShape>'
  'dart::dynamics::SoftMeshShape':
    held_type: 'std::shared_ptr<dart::dynamics::SoftMeshShape>'
  'dart::dynamics::Branch':
    held_type: 'dart::dynamics::Branch *'
  'dart::dynamics::EndEffector':
    held_type: 'dart::dynamics::EndEffector *'
  'dart::dynamics::WholeBodyIK':
    held_type: 'dart::dynamics::WholeBodyIK *'
  'dart::dynamics::TemplatedJacobianNode<dart::dynamics::EndEffector>':
    held_type: 'dart::dynamics::TemplatedJacobianNode<dart::dynamics::EndEffector> *'
  'dart::dynamics::TemplatedJacobianNode<dart::dynamics::BodyNode>':
    held_type: 'dart::dynamics::TemplatedJacobianNode<dart::dynamics::BodyNode> *'
  'dart::dynamics::SkeletonRefCountingBase':
    held_type: 'dart::dynamics::SkeletonRefCountingBase *'
  'dart::dynamics::MutexedWeakSkeletonPtr': null
  'dart::dynamics::TemplateWeakBodyNodePtr<dart::dynamics::BodyNode>': null

  # Suppressed because of bugs in DART:
  'template <> void dart::common::NameManager<dart::dynamics::Marker *>::removeEntries(const std::string&, dart::dynamics::Marker *const &)': null
  'template <> void dart::common::NameManager<dart::dynamics::BodyNode *>::removeEntries(const std::string&, dart::dynamics::BodyNode *const &)': null
  'template <> void dart::common::NameManager<dart::dynamics::SoftBodyNode *>::removeEntries(const std::string&, dart::dynamics::SoftBodyNode *const &)': null
  'template <> void dart::common::NameManager<dart::dynamics::EndEffector *>::removeEntries(const std::string&, dart::dynamics::EndEffector *const &)': null
  'template <> void dart::common::NameManager<dart::dynamics::DegreeOfFreedom*>::removeEntries(const std::string&, dart::dynamics::DegreeOfFreedom *const &)': null
  'template <> void dart::common::NameManager<std::shared_ptr<dart::dynamics::SimpleFrame>>::removeEntries(const std::string&, std::shared_ptr<dart::dynamics::SimpleFrame> const &)': null
  'template <> void dart::common::NameManager<std::shared_ptr<dart::dynamics::Skeleton> >::removeEntries(const std::string&, std::shared_ptr<dart::dynamics::Skeleton> const &)': null

  # Suppressed because these are optional components.
  'Assimp::IOStream': null
  'dart::dynamics::AssimpInputResourceAdaptor': null
  'dart::optimizer::IpoptSolver': null
  'dart::optimizer::NloptSolver': null
  'dart::optimizer::DartTNLP': null

  # Suppressed because of bugs in Chimera.
  #'dart::common::Signal<void (std::shared_ptr<dart::dynamics::MetaSkeleton const>, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&), dart::common::signal::detail::DefaultCombiner>': null

  'dart::dynamics::Frame *dart::dynamics::Frame::World()':
    return_value_policy: boost::python::reference_existing_object
  'dart::gui::GlutWindow': null
  #'const std::vector<ConstShapePtr>& dart::dynamics::Entity::getVisualizationShapes() const': null
  'const dart::dynamics::Frame* dart::dynamics::Entity::getParentFrame() const': null
  'const dart::dynamics::DegreeOfFreedom* dart::dynamics::JacobianNode::getDependentDof(size_t) const': null
  #'const std::vector<const DegreeOfFreedom *>& dart::dynamics::JacobianNode::getDependentDofs() const': null
  'const dart::dynamics::InverseKinematics::ErrorMethod& dart::dynamics::InverseKinematics::getErrorMethod() const': null
  'const dart::dynamics::InverseKinematics::GradientMethod &dart::dynamics::InverseKinematics::getGradientMethod() const': null
  'const dart::dynamics::JacobianNode *dart::dynamics::InverseKinematics::getNode() const': null
  'const dart::dynamics::JacobianNode *dart::dynamics::InverseKinematics::getAffiliation() const': null
  'const dart::dynamics::BodyNode *dart::dynamics::MetaSkeleton::getBodyNode(size_t) const': null
  #'const std::vector<const BodyNode *> &dart::dynamics::MetaSkeleton::getBodyNodes() const': null
  'const dart::dynamics::Joint *dart::dynamics::MetaSkeleton::getJoint(size_t) const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::MetaSkeleton::getDof(size_t) const': null
  'const dart::dynamics::BodyNode *dart::dynamics::Skeleton::getRootBodyNode(size_t) const': null
  'const dart::dynamics::BodyNode *dart::dynamics::Skeleton::getBodyNode(size_t) const': null
  'const dart::dynamics::SoftBodyNode *dart::dynamics::Skeleton::getSoftBodyNode(size_t) const': null
  'const dart::dynamics::BodyNode *dart::dynamics::Skeleton::getBodyNode(const std::string &) const': null
  'const dart::dynamics::SoftBodyNode *dart::dynamics::Skeleton::getSoftBodyNode(const std::string &) const': null
  #'const std::vector<const BodyNode *> &dart::dynamics::Skeleton::getBodyNodes() const': null
  'const dart::dynamics::Joint *dart::dynamics::Skeleton::getJoint(size_t) const': null
  'const dart::dynamics::Joint *dart::dynamics::Skeleton::getJoint(const std::string &) const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::Skeleton::getDof(size_t) const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::Skeleton::getDof(const std::string &) const': null
  #'const std::vector<const DegreeOfFreedom *> &dart::dynamics::Skeleton::getTreeDofs(size_t) const': null
  'const dart::dynamics::EndEffector *dart::dynamics::Skeleton::getEndEffector(size_t) const': null
  'const dart::dynamics::EndEffector *dart::dynamics::Skeleton::getEndEffector(const std::string &) const': null
  'const dart::dynamics::Marker *dart::dynamics::Skeleton::getMarker(const std::string &) const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::EndEffector::getDependentDof(size_t) const': null
  #'const std::vector<const DegreeOfFreedom *> &dart::dynamics::EndEffector::getDependentDofs() const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::ZeroDofJoint::getDof(size_t) const': null
  'const dart::dynamics::PointMass *dart::dynamics::SoftBodyNode::getPointMass(size_t) const': null
  'const dart::dynamics::PointMassNotifier *dart::dynamics::SoftBodyNode::getNotifier() const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::SingleDofJoint::getDof(size_t) const': null
  'const dart::dynamics::SoftBodyNode *dart::dynamics::PointMass::getParentSoftBodyNode() const': null
  'const dart::dynamics::PointMass *dart::dynamics::PointMass::getConnectedPointMass(size_t) const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::ReferentialSkeleton::getDof(size_t) const': null
  'const dart::dynamics::Joint *dart::dynamics::ReferentialSkeleton::getJoint(size_t) const': null
  #'const std::vector<const BodyNode *> &dart::dynamics::ReferentialSkeleton::getBodyNodes() const': null
  'const dart::dynamics::BodyNode *dart::dynamics::ReferentialSkeleton::getBodyNode(size_t) const': null
  'const dart::dynamics::BodyNode *dart::dynamics::DegreeOfFreedom::getParentBodyNode() const': null
  'const dart::dynamics::BodyNode *dart::dynamics::DegreeOfFreedom::getParentBodyNode() const': null
  'const dart::dynamics::BodyNode *dart::dynamics::DegreeOfFreedom::getChildBodyNode() const': null
  'const dart::dynamics::Joint *dart::dynamics::DegreeOfFreedom::getJoint() const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::Joint::getDof(size_t) const': null
  'dart::dynamics::DegreeOfFreedom *dart::dynamics::Joint::getDof(size_t)': null
  'const dart::dynamics::BodyNode *dart::dynamics::Joint::getParentBodyNode() const': null
  'const dart::dynamics::BodyNode *dart::dynamics::Joint::getChildBodyNode() const': null
  #'const std::vector<const DegreeOfFreedom *> &dart::dynamics::BodyNode::getDependentDofs() const': null
  'const dart::dynamics::DegreeOfFreedom *dart::dynamics::BodyNode::getDependentDof(size_t) const': null
  'dart::dynamics::ConstSkeletonPtr dart::dynamics::BodyNode::getSkeleton() const': null
  'const dart::dynamics::Marker *dart::dynamics::BodyNode::getMarker(size_t) const': null
  'const dart::dynamics::Joint *dart::dynamics::BodyNode::getChildJoint(size_t) const': null
  'const dart::dynamics::BodyNode *dart::dynamics::BodyNode::getChildBodyNode(size_t) const': null
  'const dart::dynamics::BodyNode *dart::dynamics::BodyNode::getParentBodyNode() const': null
  'const dart::dynamics::Joint *dart::dynamics::BodyNode::getParentJoint() const': null
  'const dart::dynamics::Shape *dart::dynamics::BodyNode::getCollisionShape(size_t) const': null
  'const dart::dynamics::BodyNode *dart::dynamics::Marker::getBodyNode() const': null
  'const dart::dynamics::SoftBodyNode *dart::dynamics::PointMass::getParentSoftBodyNode() const': null
  'template<> const dart::dynamics::DegreeOfFreedom *dart::dynamics::MultiDofJoint<2>::getDof(size_t) const': null
  'template<> const dart::dynamics::DegreeOfFreedom *dart::dynamics::MultiDofJoint<3>::getDof(size_t) const': null
  'template<> const dart::dynamics::DegreeOfFreedom *dart::dynamics::MultiDofJoint<6>::getDof(size_t) const': null
  'dart::dynamics::AssimpInputResourceRetrieverAdaptor': null
  #'const dart::dynamics::DegreeOfFreedom *dart::dynamics::MultiDofJoint::getDof(size_t) const': null
